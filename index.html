<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/markdown/index.md at 2024-12-08
 | Rendered using Apache Maven Fluido Skin 1.12.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>jopenapicmp &#x2013; jopenapicmp</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.12.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.12.0.min.js"></script>
    <style>.github-fork-ribbon:before { background-color: gray; }</style>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/siom79/jopenapicmp" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1>jopenapicmp</h1>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li><a href="./" title="jopenapicmp">jopenapicmp</a><span class="divider">/</span></li>
    <li class="active ">jopenapicmp</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2024-12-08</li>
          <li id="projectVersion" class="pull-right">Version: 0.0.5-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li class="active"><a><span class="none"></span>Introduction</a></li>
    <li><a href="ReleaseNotes.html" title="Release Notes"><span class="none"></span>Release Notes</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<h1>jopenapicmp</h1>
<p>jopenapicmp is a tool to compare two versions of an <a class="externalLink" href="https://swagger.io/specification/">OpenAPI</a> or
an <a class="externalLink" href="https://www.asyncapi.com/">asyncapi</a> specification:</p>

<div class="source"><pre class="prettyprint"><code class="language-bash">java -jar target/jopenapicmp-0.0.4-jar-with-dependencies.jar -o old.yaml -n new.yaml
</code></pre></div>
<p>A read-to-use jar file with all dependencies can be downloaded from the Maven Central Repository <a class="externalLink" href="https://repo1.maven.org/maven2/io/github/siom79/jopenapicmp/jopenapicmp/0.0.4/jopenapicmp-0.0.4-jar-with-dependencies.jar">here</a>.</p>
<p>It can also be used as a library:</p>

<div class="source"><pre class="prettyprint"><code class="language-java">AsyncApiParser apiParser = new AsyncApiParser();
AsyncApi oldAsyncApi = apiParser.parse(oldFile, config.getOldPath());
AsyncApi newAsyncApi = apiParser.parse(newFile, config.getNewPath());

AsyncApiComparator comparator = new AsyncApiComparator();
ObjectDiff diff = comparator.compare(oldAsyncApi, newAsyncApi);
</code></pre></div>
<p>jopenapicmp is available in the Maven Central Repository:
<a class="externalLink" href="https://central.sonatype.com/artifact/io.github.siom79.jopenapicmp/jopenapicmp"><img src="https://img.shields.io/maven-central/v/io.github.siom79.jopenapicmp/jopenapicmp?color=green" alt="maven" /></a></p>

<div class="source"><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;io.github.siom79.jopenapicmp&lt;/groupId&gt;
  &lt;artifactId&gt;jopenapicmp&lt;/artifactId&gt;
  &lt;version&gt;0.0.4&lt;/version&gt;
&lt;/dependency&gt;
</code></pre></div>
<p>A maven plugin allows you to integrate the checks into your build:</p>

<div class="source"><pre class="prettyprint"><code class="language-xml">&lt;build&gt;
	&lt;plugins&gt;
		&lt;plugin&gt;
			&lt;groupId&gt;io.github.siom79.jopenapicmp&lt;/groupId&gt;
			&lt;artifactId&gt;jopenapicmp-maven-plugin&lt;/artifactId&gt;
			&lt;version&gt;0.0.4&lt;/version&gt;
			&lt;executions&gt;
				&lt;execution&gt;
					&lt;id&gt;cmp&lt;/id&gt;
					&lt;phase&gt;verify&lt;/phase&gt;
					&lt;goals&gt;
						&lt;goal&gt;jopenapicmp&lt;/goal&gt;
					&lt;/goals&gt;
					&lt;configuration&gt;
						&lt;oldVersion&gt;
							&lt;file&gt;old_2.6.0.yaml&lt;/file&gt;
						&lt;/oldVersion&gt;
						&lt;newVersion&gt;
							&lt;file&gt;new_2.6.0.yaml&lt;/file&gt;
						&lt;/newVersion&gt;
					&lt;/configuration&gt;
				&lt;/execution&gt;
			&lt;/executions&gt;
		&lt;/plugin&gt;
	&lt;/plugins&gt;
&lt;/build&gt;
</code></pre></div><section>
<h2><a name="Motivation"></a>Motivation</h2>
<p>Every time you release a new version of an API defined by an OpenApi or asyncapi specification,
you need to check if only these things have changed that you wanted to change.
Probably you also have to inform the clients of the API about and changes and want
to document them.</p>
<p>Without the appropriate tooling, this task is tedious and error-prone.
This tool/library helps you to determine the differences between two versions of
an asyncapi specification.</p></section><section>
<h2><a name="Features"></a>Features</h2>
<ul>

<li>Java API to parse async API specifications</li>
<li>Comparison of two parsed async API specifications</li>
<li>Differences can be printed out as simple YAML diff format</li>
</ul><section>
<h3><a name="Planned_features"></a>Planned features</h3>
<p>Development of this tool is not completed, yet. Hence, there are a lot of planned
features:</p>
<ul>

<li>Evaluation of more changes as breaking or not-breaking</li>
<li>HTML report</li>
<li>Gradle plugin</li>
</ul></section></section><section>
<h2><a name="Usage"></a>Usage</h2>
<p>To use the tool you can clone the repository, build the tool and run it:</p>

<div class="source"><pre class="prettyprint"><code class="language-bash">git clone https://github.com/siom79/jopenapicmp.git
cd jopenapicmp
mvn package
java -jar target/jopenapicmp-0.0.4-jar-with-dependencies.jar -o old.yaml -n new.yaml
</code></pre></div>
<p>A read-to-use jar file with all dependencies can be downloaded from the Maven Central Repository <a class="externalLink" href="https://repo1.maven.org/maven2/io/github/siom79/jopenapicmp/jopenapicmp/0.0.4/jopenapicmp-0.0.4-jar-with-dependencies.jar">here</a>.
Be sure to download the file with the extension <code>-jar-with-dependencies.jar</code>.</p>
<p>You can also use it as a library:</p>

<div class="source"><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;io.github.siom79.jopenapicmp&lt;/groupId&gt;
  &lt;artifactId&gt;jopenapicmp&lt;/artifactId&gt;
  &lt;version&gt;0.0.4&lt;/version&gt;
&lt;/dependency&gt;
</code></pre></div>
<p>To integrate the output into your build, you can utilize the maven plugin:</p>

<div class="source"><pre class="prettyprint"><code class="language-xml">&lt;build&gt;
	&lt;plugins&gt;
		&lt;plugin&gt;
			&lt;groupId&gt;io.github.siom79.jopenapicmp&lt;/groupId&gt;
			&lt;artifactId&gt;jopenapicmp-maven-plugin&lt;/artifactId&gt;
			&lt;version&gt;0.0.4&lt;/version&gt;
			&lt;executions&gt;
				&lt;execution&gt;
					&lt;id&gt;cmp&lt;/id&gt;
					&lt;phase&gt;verify&lt;/phase&gt;
					&lt;goals&gt;
						&lt;goal&gt;jopenapicmp&lt;/goal&gt;
					&lt;/goals&gt;
					&lt;configuration&gt;
						&lt;oldVersion&gt;
							&lt;file&gt;old_2.6.0.yaml&lt;/file&gt;
						&lt;/oldVersion&gt;
						&lt;newVersion&gt;
							&lt;file&gt;new_2.6.0.yaml&lt;/file&gt;
						&lt;/newVersion&gt;
					&lt;/configuration&gt;
				&lt;/execution&gt;
			&lt;/executions&gt;
		&lt;/plugin&gt;
	&lt;/plugins&gt;
&lt;/build&gt;
</code></pre></div>
<p>Sample output:</p>

<div class="source"><pre class="prettyprint"><code class="language-yaml">asyncapi: 2.6.0 (===)
id: https://github.com/siom79/jopenapicmp (===)
info: (===)
  description: This is a sample app. (===)
  termsOfService: https://asyncapi.org/terms/ (===)
  title: AsyncAPI Sample App (===)
  version: 1.0.0 (*** old: 0.1.0)
  license: (===)
    name: Apache 2.0 (===)
    url: https://www.apache.org/licenses/LICENSE-2.0.html (===)
  contact: (===)
    name: API Support (===)
    url: https://www.asyncapi.org/support (===)
    email: support@asyncapi.org (*** old: team@asyncapi.org)
servers: (===)
  production: (===)
    protocol: secure-mqtt (===)
    description: The production API server (===)
    url: gigantic-server.com:{port}/path (===)
    variables: (===)
      port: (===)
        defaultValue: 8883 (===)
        enums: (***)
          - 8883 (===)
          - 8884 (+++)
channels: (===)
  userSignedUp: (===)
    subscribe: (===)
      summary: Action to sign a user up. (===)
      operationId: userSignup (===)
      message: (===)
        contentType: application/json (===)
        payload: (===)
          format: object (===)
          properties: (===)
            role: (+++, compatibility change: SCHEMA_PROPERTY_ADDED)
              format: string (+++)
            user: (===)
              format: string (===)
[...]
</code></pre></div>
<p>The following incompatibilities ares detected:</p>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th>Incompatibility</th>
<th>Backward compatible</th>
<th>Forward compatible</th></tr>
</thead><tbody>

<tr class="b">
<td align="left">CHANNEL_ADDED</td>
<td>true</td>
<td>true</td></tr>
<tr class="a">
<td align="left">CHANNEL_REMOVED</td>
<td>false</td>
<td>false</td></tr>
<tr class="b">
<td align="left">OPERATION_OPERATION_ID_CHANGED</td>
<td>false</td>
<td>false</td></tr>
<tr class="a">
<td align="left">MESSAGE_MESSAGE_ID_CHANGED</td>
<td>false</td>
<td>false</td></tr>
<tr class="b">
<td align="left">MESSAGE_CONTENT_TYPE_CHANGED</td>
<td>false</td>
<td>false</td></tr>
<tr class="a">
<td align="left">MESSAGE_SCHEMA_FORMAT_CHANGED</td>
<td>false</td>
<td>false</td></tr>
<tr class="b">
<td align="left">SCHEMA_TYPE_CHANGED</td>
<td>false</td>
<td>false</td></tr>
<tr class="a">
<td align="left">SCHEMA_PROPERTY_ADDED</td>
<td>true</td>
<td>true</td></tr>
<tr class="b">
<td align="left">SCHEMA_PROPERTY_REMOVED</td>
<td>true</td>
<td>true</td></tr>
<tr class="a">
<td align="left">SCHEMA_PROPERTY_REQUIRED_ADDED</td>
<td>false</td>
<td>true</td></tr>
<tr class="b">
<td align="left">SCHEMA_PROPERTY_REQUIRED_REMOVED</td>
<td>true</td>
<td>false</td></tr>
<tr class="a">
<td align="left">SCHEMA_MIN_LENGTH_INCREASED</td>
<td>false</td>
<td>true</td></tr>
<tr class="b">
<td align="left">SCHEMA_MIN_LENGTH_DECREASED</td>
<td>true</td>
<td>false</td></tr>
<tr class="a">
<td align="left">SCHEMA_MAX_LENGTH_INCREASED</td>
<td>true</td>
<td>false</td></tr>
<tr class="b">
<td align="left">SCHEMA_MAX_LENGTH_DECREASED</td>
<td>false</td>
<td>true</td></tr>
</tbody>
</table></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2024
</p>
        </div>
      </div>
    </footer>
<script>
  if(anchors) {
    anchors.add();
  }
</script>
  </body>
</html>